{"id":"meld-eq0","title":"Meld v1: Multi-Model Plan Convergence Tool","description":"# Meld v1 Epic\n\n## Vision\nMeld is a Python CLI tool that orchestrates multi-model plan convergence. Given a task description, it uses Claude as the \"Melder\" to generate an initial plan, then collects parallel feedback from three AI advisors (Claude CLI, Gemini CLI, Codex CLI), synthesizes the feedback, and iterates until convergence or max rounds.\n\n## Why This Matters\n- **Model Diversity**: Different AI models have different strengths, blind spots, and perspectives. Combining their feedback produces more robust plans than any single model.\n- **Convergence as Quality Signal**: When multiple models agree a plan is complete, confidence is higher. Disagreement surfaces risks and edge cases.\n- **Human-in-the-Loop**: The DEFERRED items mechanism ensures humans make final calls on contested decisions.\n\n## Key Design Goals\n1. **Advisor Adapter Layer**: Encapsulate per-CLI quirks (flags, output parsing) so CLI drift doesn't break the core loop\n2. **Session Persistence**: Crash-safe artifacts enable debugging, `--resume`, and meet PRD requirement \"no data loss if interrupted\"\n3. **Structured Feedback**: Lightly structured advisor responses improve synthesis quality and convergence accuracy\n4. **Real-time Visibility**: Textual TUI shows all four models working in parallel with streaming output\n\n## Architecture Summary\n- **Language**: Python 3.10+ (required for Textual/Rich; modern async support)\n- **TUI Framework**: Textual (purpose-built for terminal apps; handles layout, streaming, async natively)\n- **CLI Invocation**: asyncio.create_subprocess_exec (non-blocking parallel execution; stdout streaming)\n- **Output Format**: Markdown + optional JSON (Markdown for humans, JSON for CI/scripting)\n- **Configuration**: CLI flags only (no config files for v1; keeps it simple)\n\n## Implementation Phases\n1. **Foundation**: Project scaffolding, CLI, session manager, provider interface\n2. **Core Logic**: All provider adapters, Melder, Advisor pool, convergence detection\n3. **TUI**: Textual app with 4-panel layout, streaming, status indicators\n4. **Polish**: Output formatter, JSON output, resume, graceful degradation\n\n## Success Criteria\n- All CLIs invoked successfully when available\n- Preflight detects missing/broken CLIs with actionable messages\n- TUI renders without flicker with throttled updates\n- Convergence detection: no false positives; OPEN_ITEMS \u003e 0 always blocks\n- Graceful degradation: works with 2/3 advisors\n- Session artifacts enable crash recovery via --resume\n\n## Dependencies\n### External (user must have installed)\n- `claude` CLI - Anthropic's Claude Code CLI (authenticated)\n- `gemini` CLI - Google's Gemini CLI (authenticated)\n- `codex` CLI - OpenAI's Codex CLI (authenticated)\n- Python 3.10+\n\n### Python Packages\n- `textual\u003e=0.50.0` - TUI framework\n- `rich\u003e=13.0.0` - Terminal formatting (Textual dependency)\n\n## Deferred to v1.1\n- Event-driven architecture (event bus for TUI/logging separation)\n- Context size guardrails (--max-context-chars, PRD summarization)\n- Semantic oscillation detection\n- Advisor specialization hints\n- Cost tracking and token usage estimation","status":"open","priority":1,"issue_type":"epic","owner":"mjfork@users.noreply.github.com","created_at":"2026-01-15T22:58:31.635092-06:00","created_by":"Michael Fork","updated_at":"2026-01-15T22:58:31.635092-06:00","labels":["epic","python","tui","v1"]}
